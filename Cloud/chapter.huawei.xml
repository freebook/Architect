<?xml version="1.0" encoding="UTF-8"?>
<chapter id="index"><?dbhtml dir="huawei" ?>
	<title>Huawei Cloud Service</title>
	<section id="flexus.server">
		<title>Flexus云服务器</title>
		<section>
			<title>AlmaLinux 9 镜像初始化</title>
			<section>
				<title>配置域名服务器</title>
				<para>默认域名服务器无法解析外部域名</para>
				<screen>
			<![CDATA[
[root@production ~]# ping www.netkiller.cn
ping: www.netkiller.cn: Name or service not known			
			]]>
				</screen>
				<para>100.79.1.250 内部域名服务器</para>
				<screen>
				<![CDATA[
[root@production ~]# cat /etc/resolv.conf 
# Generated by NetworkManager
search openstacklocal
nameserver 100.79.1.250
options timeout:1 single-request-reopen				
				]]>
				</screen>
				<para>添加域名服务器</para>
				<screen>
				<![CDATA[
[root@production ~]# echo "nameserver  8.8.8.8" >> /etc/resolv.conf
				
[root@production ~]# cat /etc/resolv.conf 
# Generated by NetworkManager
search openstacklocal
nameserver 100.79.1.250
options timeout:1 single-request-reopen
nameserver  8.8.8.8				
				]]>
				</screen>
				<para>测试域名解析是否正常</para>
				<screen>
				<![CDATA[
[root@production ~]# ping www.netkiller.cn
PING netkiller.github.io (185.199.111.153) 56(84) bytes of data.
^C64 bytes from 185.199.111.153: icmp_seq=4 ttl=48 time=124 ms

--- netkiller.github.io ping statistics ---
4 packets transmitted, 1 received, 75% packet loss, time 3058ms
rtt min/avg/max/mdev = 124.042/124.042/124.042/0.000 ms				
				]]>
				</screen>
			</section>
			<section>
				<title>员常用工具</title>
				<para>管理员常用工具</para>
				<screen>
			<![CDATA[
dnf install -y bzip2 tree psmisc \
telnet wget rsync vim-enhanced \
net-tools bind-utils			
			]]>
				</screen>
			</section>
			<section>
				<title>OpenJDK 17</title>
				<screen>
				<![CDATA[
[root@testing ~]# dnf install -y java-17-openjdk maven-openjdk17				
				]]>
				</screen>
			</section>



		</section>
	</section>
	<section id="flexus.rds">
		<title>Flexus RDS</title>
		<section>
			<title>迁移阿里云RDS至华为云RDS</title>
			<screen>
				<![CDATA[
[root@aliyun ~]# mysqldump -h aliyun.netkiller.cn -uroot -p watch | gzip > watch.sql.gz
				]]>
			</screen>
			<screen>
			<![CDATA[
[root@aliyun ~]# scp watch.sql.gz root@newdb.netkiller.cn			
			]]>
			</screen>
			<screen>
				<![CDATA[
[root@huawei ~]# zcat watch.sql.gz | mysql -h huawei.netkiller.cn -uroot -p development
				]]>
			</screen>
		</section>
	</section>
</chapter>
