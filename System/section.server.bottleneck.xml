<?xml version="1.0" encoding="UTF-8"?>
<section>
	<title>瓶颈分析</title>
	<section id="server.tpc">
		<title>TPC</title>
		<para>
			<ulink url="http://www.tpc.org/">http://www.tpc.org/</ulink>
		</para>
		<orderedlist>
			<title> Transaction Processing Performance Council</title>
			<listitem>
				<para>TPC-C：是在线事务处理(OLTP)的基准程序</para>
			</listitem>
			<listitem>
				<para>TPC-D：是决策支持(Decision Support) 的基准程序</para>
			</listitem>
			<listitem>
				<para>TPC-E：作为大型企业(Enterprise)信息服务的基准程序</para>
			</listitem>
			<listitem>
				<para>TPC-H：DecisionSupportforAdHocQueries基于特定查询的决策支持</para>
			</listitem>
			<listitem>
				<para>TPC-W：Webe-Commerce（互联网及电子商务）</para>
			</listitem>
			<listitem>
				<para>TPC-R：DecisionSupportforBusinessReporting（基于商业报告的决策支持）</para>
			</listitem>
		</orderedlist>
	</section>
	<section id="server.iops">
		<title>IOPS (Input/Output Operations Per Second, pronounced i-ops)</title>
		<para>
			<ulink url="http://www.storageperformance.org/home/">http://www.storageperformance.org/home/</ulink>
		</para>
	</section>
	<section id="server.rperf">
		<title>rPerf</title>
		<para>http://www-03.ibm.com/systems/power/hardware/notices/rperf.html</para>
		<screen>
		<![CDATA[

服务器所需要的rPerf值=SUM(NU * TX * CS/PP) / MC

NU:高峰时并发的用户数

TX:高峰时每个用户的交易数量

CS:在rPerf=1的服务器上，每个交易所需要的CPU秒

PP:高峰持续的时间

MC:最大的CPU利用率（推荐< 70%）

下面举例说明如何计算所需的rPerf值，假定某公司的情况如下：

业务高峰时间：  10:00-11:00=1Hour=3600秒

交易类型：      无复杂查询的简单应用

相对交易类型，用户数目分布:轻的=2000,   一般=50,   重的=5

在高峰时，每个用户的交易数量：

   轻的=120交易/用户

   一般=60交易/用户

   重的=15交易/用户

对于rPerf=1的服务器，每个交易响应的CPU秒

   轻的=1

   一般=3

   重的=15

最大的CPU利用率：60%

根据上述公式，可推算出不同交易类型所对应的rPerf值。

轻的交易：NU*TX*CS/PP=2000*120*1/3600=66.0

一般交易：NU*TX*CS/PP=50*60*3/3600=2.5

重的交易：NU*TX*CS/PP=5*15*15/3600=0.3

所需的总的rPerf/MC=(66.0+2.5+0.3)/0.7=98.3 rPerf
		]]>
		</screen>
	</section>

	<section>
		<title>Springboot</title>
		<screen>
		<![CDATA[
/ # cat /proc/1/status | grep Threads
Threads:        61		
		]]>
		</screen>
		<para>另一中方式，记得数值要 -1 因为ls -l 第一行是 total 0 统计文件数量。</para>
		<screen>
		<![CDATA[
/ # ls -l /proc/1/task/ | wc -l
61		
		]]>
		</screen>

	</section>
	<section>
		<title>日志管理</title>
		<screen>
		<![CDATA[
		
		]]>
		</screen>
	</section>
	<section>
		<title>积分管理</title>
		<screen>
		<![CDATA[
		
		]]>
		</screen>
	</section>
	<section>
		<title>回访管理</title>
		<screen>
		<![CDATA[
		
		]]>
		</screen>
	</section>
	<section>
		<title>站内消息</title>
		<screen>
		<![CDATA[
		
		]]>
		</screen>
	</section>
</section>